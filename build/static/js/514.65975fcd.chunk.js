"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[514],{8514:function(e,n,a){a.r(n),a.d(n,{default:function(){return L}});var t=a(2791),s=a(6871),r=a(3504),i=a(1645),l=a(184);function c(){var e=(0,s.s0)(),n=i.Z.Get();return(0,l.jsx)("nav",{className:"navbar navbar-expand-sm navbar-light bg-light mb-3",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsxs)(r.OL,{to:"/",className:"navbar-brand",children:[(0,l.jsx)("img",{src:"/logo.png",alt:"Logo"})," eVideoPrime"]}),(0,l.jsx)("button",{className:"navbar-toggler d-lg-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapsibleNavId","aria-controls":"collapsibleNavId","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,l.jsx)("span",{className:"navbar-toggler-icon"})}),(0,l.jsxs)("div",{className:"collapse navbar-collapse d-sm-inline-flex justify-content-end",id:"collapsibleNavId",children:[(0,l.jsxs)("ul",{className:"navbar-nav flex-grow-1",children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(r.OL,{className:"nav-link",to:"",children:"Dashboard"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(r.OL,{className:"nav-link",to:"movies",children:"Movies"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(r.OL,{className:"nav-link",to:"users",children:"Users"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(r.OL,{className:"nav-link",to:"subscriptions",children:"Subscriptions"})})]}),(0,l.jsxs)("ul",{className:"navbar-nav",children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsxs)("span",{className:"text-dark nav-link",children:["Welcome: ",n.name]})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)("a",{className:"nav-link",href:"",onClick:function(){i.Z.Remove(),e("/login")},children:"SignOut"})})]})]})]})})}function d(){return(0,l.jsx)("div",{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"mb-4",children:"Dashboard"}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-sm-4",children:(0,l.jsx)(r.OL,{to:"movies",className:"text-decoration-none text-dark",children:(0,l.jsxs)("div",{className:"card border-primary mb-3",children:[(0,l.jsx)("div",{className:"card-header text-center text-primary",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:64,height:64,fill:"currentColor",className:"bi bi-camera-video",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2V5zm11.5 5.175 3.5 1.556V4.269l-3.5 1.556v4.35zM2 4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H2z"})})}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsx)("h5",{className:"card-title",children:"ALL Movies"}),(0,l.jsx)("p",{className:"card-text",children:"A list of movies at platform"})]})]})})}),(0,l.jsx)("div",{className:"col-sm-4",children:(0,l.jsx)(r.OL,{to:"subscriptions",className:"text-decoration-none text-dark",children:(0,l.jsxs)("div",{className:"card border-primary mb-3",children:[(0,l.jsx)("div",{className:"card-header text-center text-primary",children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:64,height:64,fill:"currentColor",className:"bi bi-person-video",viewBox:"0 0 16 16",children:[(0,l.jsx)("path",{d:"M8 9.05a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"}),(0,l.jsx)("path",{d:"M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2Zm10.798 11c-.453-1.27-1.76-3-4.798-3-3.037 0-4.345 1.73-4.798 3H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-1.202Z"})]})}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsx)("h5",{className:"card-title",children:"Active Subscriptions"}),(0,l.jsx)("p",{className:"card-text",children:"A list of active Subscriptions at platform"})]})]})})}),(0,l.jsx)("div",{className:"col-sm-4",children:(0,l.jsx)(r.OL,{to:"users",className:"text-decoration-none text-dark",children:(0,l.jsxs)("div",{className:"card border-primary mb-3",children:[(0,l.jsx)("div",{className:"card-header text-center text-primary",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:64,height:64,fill:"currentColor",className:"bi bi-people",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})})}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsx)("h5",{className:"card-title",children:"ALL Users"}),(0,l.jsx)("p",{className:"card-text",children:"A list of users at platform"})]})]})})})]})]})})}var o=a(885),h=a(1213);var m={GetAll:function(){return h.Z.get("/movie/getall").then((function(e){return e})).catch((function(e){return e}))},Get:function(e){return h.Z.get("/movie/get/".concat(e)).then((function(e){return e})).catch((function(e){return e}))},Add:function(e){return h.Z.post("/movie/add",e).then((function(e){return e})).catch((function(e){return e}))},Update:function(e){return h.Z.put("/movie/update/"+e.id,e).then((function(e){return e})).catch((function(e){return e}))},Delete:function(e){return h.Z.delete("/movie/delete/".concat(e)).then((function(e){return e})).catch((function(e){return e}))}};function u(){var e=(0,t.useState)([]),n=(0,o.Z)(e,2),a=n[0],s=n[1];(0,t.useEffect)((function(){m.GetAll().then((function(e){200==e.status&&s(e.data)}))}),[]);return(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:"Movie List"}),(0,l.jsx)(r.OL,{to:"/admin/movie/create",className:"btn btn-primary",children:"Create"}),(0,l.jsx)("br",{}),(0,l.jsxs)("table",{className:"table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"Summary"}),(0,l.jsx)("th",{children:"Language"}),(0,l.jsx)("th",{children:"Duration"}),(0,l.jsx)("th",{style:{width:"150px"},children:"Actions"})]})}),(0,l.jsx)("tbody",{children:a.map((function(e,n){return(0,l.jsxs)("tr",{children:[(0,l.jsxs)("td",{children:[(0,l.jsx)("img",{src:e.banner,style:{height:"100px"}}),(0,l.jsx)("div",{children:e.name})]}),(0,l.jsx)("td",{children:e.summary}),(0,l.jsx)("td",{children:e.language}),(0,l.jsx)("td",{children:e.duration}),(0,l.jsxs)("td",{children:[(0,l.jsx)(r.OL,{to:"/admin/movie/edit/".concat(e.id),className:"btn btn-primary",children:"Edit"})," \xa0",(0,l.jsx)("button",{className:"btn btn-warning",onClick:function(n){return a=e.id,void(window.confirm("Are you sure to delete?")&&m.Delete(a).then((function(e){200==e.status&&m.GetAll().then((function(e){200==e.status&&s(e.data)}))})));var a},children:"Delete"})]})]},n)}))})]})]})}var x=a(5705),j=a(9513),v=a.n(j),b=(a(8639),a(5650));function p(){var e=(0,s.s0)(),n=(0,t.useState)({id:"",name:"",summary:"",description:"",videoUrl:"",duration:"",language:"",releaseDate:null,categoryId:"",isActive:!0}),a=(0,o.Z)(n,2),i=a[0],c=a[1],d=(0,s.UO)().id;(0,t.useEffect)((function(){void 0!=d&&m.Get(d).then((function(e){e.data.releaseDate=new Date(e.data.releaseDate),c(e.data)}))}),[]);var h=b.Ry({categoryId:b.Z_().required("Please Select Category"),name:b.Z_().required("Please Enter Name"),videoUrl:b.Z_().required("Please Enter Video Url"),summary:b.Z_().required("Please Enter Summary"),description:b.Z_().required("Please Enter Description"),duration:b.Z_().required("Please Enter Duration"),language:b.Z_().required("Please Select Language"),releaseDate:b.hT().required("Please Enter Release Date")});return(0,l.jsxs)("div",{className:"col-sm-5",children:[""==i.id?(0,l.jsx)("h1",{children:" Create Movie"}):(0,l.jsx)("h1",{children:" Edit Movie"}),(0,l.jsx)(x.J9,{enableReinitialize:!0,initialValues:i,validationSchema:h,onSubmit:function(n){""!=n.id?m.Update(n).then((function(n){200==n.status&&e("/admin/movies")})):(n.id=0,m.Add(n).then((function(n){if(201==n.status){var a=n.data;e("/admin/movie/banner/"+a)}})))},children:function(e){var n=e.setFieldValue,a=e.values;return(0,l.jsxs)(x.l0,{children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{children:"Category"}),(0,l.jsxs)(x.gN,{name:"categoryId",as:"select",className:"form-control",onChange:function(e){n("categoryId",e.target.value)},children:[(0,l.jsx)("option",{value:"",children:"- Select -"}),(0,l.jsx)("option",{value:"1",children:"Action"}),(0,l.jsx)("option",{value:"2",children:"Comedy"}),(0,l.jsx)("option",{value:"3",children:"Drama"}),(0,l.jsx)("option",{value:"4",children:"Horror"}),(0,l.jsx)("option",{value:"5",children:"Romance"})]}),(0,l.jsx)(x.Bc,{component:"label",className:"text-danger",name:"categoryId"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{children:"Name"}),(0,l.jsx)(x.gN,{name:"name",type:"text",placeholder:"Name",className:"form-control"}),(0,l.jsx)(x.Bc,{component:"label",className:"text-danger",name:"name"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{children:"Video Url"}),(0,l.jsx)(x.gN,{name:"videoUrl",type:"text",placeholder:"Video Url",className:"form-control"}),(0,l.jsx)("span",{children:"https://www.youtube.com/embed/video_id"}),(0,l.jsx)(x.Bc,{component:"label",className:"text-danger",name:"videoUrl"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{children:"Summary"}),(0,l.jsx)(x.gN,{name:"summary",as:"textarea",placeholder:"Summary",className:"form-control"}),(0,l.jsx)(x.Bc,{component:"label",className:"text-danger",name:"summary"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{children:"Description"}),(0,l.jsx)(x.gN,{name:"description",as:"textarea",placeholder:"Description",className:"form-control"}),(0,l.jsx)(x.Bc,{component:"label",className:"text-danger",name:"description"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{children:"Duration"}),(0,l.jsx)(x.gN,{name:"duration",type:"text",placeholder:"HH:MM:SS",className:"form-control"}),(0,l.jsx)(x.Bc,{component:"label",className:"text-danger",name:"duration"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{children:"Language"}),(0,l.jsxs)(x.gN,{name:"language",as:"select",placeholder:"Language",className:"form-control",onChange:function(e){n("language",e.target.value)},children:[(0,l.jsx)("option",{value:"",children:"- Select -"}),(0,l.jsx)("option",{value:"hindi",children:"Hindi"}),(0,l.jsx)("option",{value:"english",children:"English"})]}),(0,l.jsx)(x.Bc,{component:"label",className:"text-danger",name:"language"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{children:"Release Date"}),(0,l.jsx)(v(),{name:"releaseDate",className:"form-control",format:"MM dd yyyy",selected:a.releaseDate,onChange:function(e){n("releaseDate",e)}}),(0,l.jsx)(x.Bc,{component:"label",className:"text-danger",name:"releaseDate"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("input",{type:"submit",value:"Save",className:"btn btn-primary"}),"\xa0 ",(0,l.jsx)(r.OL,{to:"/admin/movies",className:"btn btn-warning",children:"Cancel"})]})]})}})]})}var f=a(4569),N=a.n(f),g=a(6725);var y={UploadFiles:function(e){var n=g.dg;return N().post(n+"/api/file/UploadFiles",e).then((function(e){return e})).catch((function(e){return e}))}};function w(e){var n=(0,t.useState)(""),a=(0,o.Z)(n,2),s=a[0],r=a[1];return(0,t.useEffect)((function(){if(""!=e.file){var n=new FileReader;n.readAsDataURL(e.file),n.onloadend=function(){r(n.result)}}}),[e]),""!=s&&(0,l.jsx)("img",{src:s,width:e.width})}function A(){var e=(0,s.UO)().id,n=(0,s.s0)();return(0,l.jsxs)("div",{className:"col-sm-9",children:[(0,l.jsx)("h1",{children:"Upload Thumbnail and Banner"}),(0,l.jsx)(x.J9,{initialValues:{id:0,thumbnail:"",banner:""},validationSchema:b.Ry({thumbnail:b.nK().required("Please Upload Thumbnail"),banner:b.nK().required("Please Upload Banner")}),onSubmit:function(a){var t=new FormData;t.append("id",e),t.append("file",a.thumbnail,a.thumbnail.name),t.append("file",a.banner,a.banner.name),y.UploadFiles(t).then((function(e){console.log(e),200==e.status&&setTimeout((function(){return n("/admin/movies")}),1e3)}))},children:function(e){var n=e.values,a=e.setFieldValue;return(0,l.jsxs)(x.l0,{children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{children:"Thumbnail"}),(0,l.jsx)("input",{id:"thumbnail",name:"thumbnail",type:"file",onChange:function(e){a("thumbnail",e.currentTarget.files[0])}}),(0,l.jsx)(w,{file:n.thumbnail,width:"200px"}),(0,l.jsx)(x.Bc,{component:"label",className:"text-danger",name:"thumbnail"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{children:"Banner"}),(0,l.jsx)("input",{id:"banner",name:"banner",type:"file",onChange:function(e){a("banner",e.currentTarget.files[0])}}),(0,l.jsx)(w,{file:n.banner,width:"500px"}),(0,l.jsx)(x.Bc,{component:"label",className:"text-danger",name:"banner"})]}),(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)("input",{type:"submit",value:"Save",className:"btn btn-primary"})})]})}})]})}var S={GetAllUsers:function(){return h.Z.get("/User/GetAllUsers").then((function(e){return e})).catch((function(e){return e}))},Delete:function(e){return h.Z.delete("/User/delete/".concat(e)).then((function(e){return e})).catch((function(e){return e}))}};function D(){var e=(0,t.useState)([]),n=(0,o.Z)(e,2),a=n[0],s=n[1];(0,t.useEffect)((function(){S.GetAllUsers().then((function(e){200==e.status&&s(e.data)}))}),[]);return(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:"Users List"}),(0,l.jsx)("br",{}),(0,l.jsxs)("table",{className:"table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"Email"}),(0,l.jsx)("th",{children:"PhoneNumber"}),(0,l.jsx)("th",{children:"CreatedDate"})]})}),(0,l.jsx)("tbody",{children:a.map((function(e,n){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.name}),(0,l.jsx)("td",{children:e.email}),(0,l.jsx)("td",{children:e.phoneNumber}),(0,l.jsx)("td",{children:e.createdDate})]},n)}))})]})]})}var U={GetAllUserSubscription:function(){return h.Z.get("/Subscription/GetAllUserSubscription").then((function(e){return e})).catch((function(e){return e}))},Delete:function(e){return h.Z.delete("/Subscription/delete/".concat(e)).then((function(e){return e})).catch((function(e){return e}))}};function Z(){var e=(0,t.useState)([]),n=(0,o.Z)(e,2),a=n[0],s=n[1];(0,t.useEffect)((function(){U.GetAllUserSubscription().then((function(e){200==e.status&&s(e.data)}))}),[]);return(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:"Subscription List"}),(0,l.jsx)("br",{}),(0,l.jsxs)("table",{className:"table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"SubscribedOn"}),(0,l.jsx)("th",{children:"ExpiryOn"}),(0,l.jsx)("th",{children:"Plan"}),(0,l.jsx)("th",{style:{width:"150px"},children:"Actions"})]})}),(0,l.jsx)("tbody",{children:a.map((function(e,n){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.userName}),(0,l.jsx)("td",{children:e.subscribedOn}),(0,l.jsx)("td",{children:e.expiryOn}),(0,l.jsx)("td",{children:e.planName}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"btn btn-warning",onClick:function(n){return a=e.id,void(window.confirm("Are you sure to delete?")&&U.Delete(a).then((function(e){200==e.status&&U.GetAllUserSubscription().then((function(e){200==e.status&&s(e.data)}))})));var a},children:"Delete"})})]},n)}))})]})]})}function L(){return i.Z.IsAuth()?(0,l.jsxs)("div",{children:[(0,l.jsx)(c,{}),(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)(s.Z5,{children:[(0,l.jsx)(s.AW,{exact:!0,index:!0,element:(0,l.jsx)(d,{})}),(0,l.jsx)(s.AW,{path:"/movies",element:(0,l.jsx)(u,{})}),(0,l.jsx)(s.AW,{path:"/users",element:(0,l.jsx)(D,{})}),(0,l.jsx)(s.AW,{path:"/subscriptions",element:(0,l.jsx)(Z,{})}),(0,l.jsx)(s.AW,{path:"/movie/create",element:(0,l.jsx)(p,{})}),(0,l.jsx)(s.AW,{path:"/movie/edit/:id",element:(0,l.jsx)(p,{})}),(0,l.jsx)(s.AW,{path:"/movie/banner/:id",element:(0,l.jsx)(A,{})})]})})]}):(0,l.jsx)(s.Fg,{to:"/login"})}}}]);
//# sourceMappingURL=514.65975fcd.chunk.js.map